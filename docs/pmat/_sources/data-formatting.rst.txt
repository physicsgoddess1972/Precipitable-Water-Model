***************
Data Formatting
***************
This chapter will discuss the data components associated with PMAT. The first section will detail the formatting guidelines of the input files, followed by another discussion regarding the various output files generated by the software suite.

==================
Input Data Formatting
==================
The two input files discussed in this section include a YAML configuration file and a Comma Separated Value data file.

-----------------------
Configuration Input
-----------------------
The role of the configuration file is to store a series of parameters that includes sensor information, analytic parameters, logging options, and the site identifiers for the University of Wyoming’s Upper-Air database and the University of Utah’s MesoWest database.

A template of the configuration file presented below shows the structure of the data fields. The filename of this file must be _pmat.yml.

::

- instruments:
  - sensor:
      name:
      error:
      color:
      ratio:
      range:
      emissivity:
      poster:
      active:
- analysis:
  - train_fraction:
  - rel_difference:
  - iteration:
      step:
      seed:
- logging:
  - verbose:
- import:
  - mesowest:
    - id:
  - wyoming:
    - id:
      weight:

-----------------------
Raw Data File
-----------------------
The raw data file is processed, through pattern identification, allowing for a flexible format with few strict requirements. One of these requirements is that the sky and ground temperature should be grouped and ordered the same way as the configuration file. Here are some examples of valid datasets:
- [Dataset Example 1](https://github.com/physicsgoddess1972/Precipitable-Water-Model/blob/master/data/example/example1.csv)
- [Dataset Example 2](https://github.com/physicsgoddess1972/Precipitable-Water-Model/blob/master/data/example/example2.csv)
- [Dataset Example 3](https://github.com/physicsgoddess1972/Precipitable-Water-Model/blob/master/data/example/example1.csv)

It should be noted that the columns do not have to be in any set order, with one small caveat, the model pulls the data from columns with headers containing specific words or phrases. The caveat is with regards to Ground and Sky temperature readings. The temperature measurements must go in consecutive order by sensor as determined by ``_pmat.yml``.

For example, if the order of the sensors in ``_pmat.yml`` is 1610 TE, FLIR i3, and then AMES 1. Then the order of the ground and sky temperature measurements in the dataset should be: 1610 TE, FLIR i3, and then AMES 1. (As seen in Dataset 2)

| Data Type | Header | Format |
| --------- | ------ | ------ |
| Date | Date | YYYY-MM-DD |
| Time | Time | HH:MM |
| String | Condition | clear sky / overcast |
| Sky Temperature | Sensor Name (Sky) | float |
| Ground Temperature | Sensor Name (Ground) | float|

