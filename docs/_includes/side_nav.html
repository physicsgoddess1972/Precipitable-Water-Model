<!-- <script src="assets/js/sidenav.js"></script> -->
<script>
    var myObj = {}

    myObj.anc = function(){
        console.log(window.location.pathname);
        console.log(window.location.pathname.split("/").pop());
        $.get(window.location.pathname, function(data){
            if (document.location.pathname == '/' ){
                var path = "/index.html";
            } else{
                if (document.location.pathname.includes(".html")){
                    var path = document.location.pathname;   
                } else{
                    var path = document.location.pathname + ".html"
                }
            }
            var page1 = path.split("/").pop().replace(".", "-");
            document.getElementById(page1).parentElement.setAttribute('class', 'submenu show');
            var page2 = document.getElementById(page1).classList;
            page2.add("mdl-navigation__link--current");
            page2.remove("mdl-navigation__link");
        })
    };
    myObj.gnc = function(){

        document.querySelectorAll('.sidebar .nav-link').forEach(function(element) {

            element.addEventListener('click', function(e) {

                let nextEl = element.nextElementSibling;
                let parentEl = element.parentElement;
                if (nextEl) {
                    let mycollapse = new bootstrap.Collapse(nextEl);

                    if (nextEl.classList.contains('show')) {
                        mycollapse.hide();
                    } else {
                        mycollapse.show();
                        // find other submenus with class=show
                    }
                    var opened_submenu = parentEl.parentElement.querySelector('.submenu.show');
                    // if it exists, then close all of them
                    if (opened_submenu) {
                        new bootstrap.Collapse(opened_submenu);
                    }
                }

            });
        })

    };
    myObj.anc();
    myObj.gnc();
</script>
<nav class="demo-navigation mdl-navigation mdl-color--blue-grey-900 sidebar">
    <ul class="nav flex-column" id="nav_accordion">
        <a class="mdl-navigation__link" id="dash-html" href="dash.html"><i class="material-icons" role="presentation">dashboard</i>Dashboard</a>
        <a class="mdl-navigation__link" id="index-html" href="index.html"><i class="material-icons" role="presentation">home</i>Home</a>
        <a class="mdl-navigation__link" id="contrib-html" href="contrib.html"><i class="material-icons" role="presentation">group_add</i>Contribute</a>
        <a class="mdl-navigation__link" id="pmat-docs" href="man/index.html"><i class="material-icons" role="presentation">code</i>PMAT Documentation</a>
        <a class="mdl-navigation__link" id="research-html" href="research.html"><i class="material-icons">science</i>Research</a>

        <li class="nav-item has-submenu">
            <a class="mdl-navigation__link nav-link" data-toggle="dropdown" href="#">Side Projects <i class="material-icons" role="presentation">expand_more</i></a>
            <ul class="submenu collapse">
                <a class="mdl-navigation__link" id="machine_learning-html" href="machine_learning.html"><i class="material-icons">memory</i>Machine Learning</a>
                <a class="mdl-navigation__link" id="automation-html" href="automation.html"><i class="material-icons">smart_toy</i>Automation</a>

            </ul>
        </li>
        <a class="mdl-navigation__link" onclick="$('#maintainers').modal('open');"><i class="material-icons" role="presentation">face</i>The Maintainers</a>
        <hr>
        <a class="mdl-navigation__link" href="https://github.com/physicsgoddess1972/Precipitable-Water-Model"><i class="material-icons"><i class="fab fa-github big-icon"></i></i> View on Github</a>
        <a class="mdl-navigation__link" href="https://github.com/physicsgoddess1972/Precipitable-Water-Model/archive/master.zip"><i class="material-icons" role="presentation">cloud_download</i>Download the Repo</a>
        <a class="mdl-navigation__link" href="https://github.com/physicsgoddess1972/Precipitable-Water-Model/issues"><i class="material-icons" role="presentation">bug_report</i>Bug Report</a>
    </ul>
</nav>
